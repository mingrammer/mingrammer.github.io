<!DOCTYPE html>
<html >
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<meta name="author" content="mingrammer">
		<meta name="description" content="mingrammer&#39;s dev logs">

		
		<meta property="og:title" content="파이썬 언더스코어(_)에 대하여" />
<meta property="og:description" content="파이썬에서 언더스코어(underscore, _)는 특별하다. 타 언어에서 언더스코어(_)는 단지 스네이크 표기법의 변수나 함수명을 위해서만 사용되어지" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mingrammer.com/underscore-in-python/" />
<meta property="article:published_time" content="2016-11-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2016-11-05T00:00:00+00:00" />

		

		<meta name="generator" content="Hugo 0.69.0" />
		<title>파이썬 언더스코어(_)에 대하여 &middot; mingrammer&#39;s note</title>
		<link rel="shortcut icon" href="https://mingrammer.com/images/favicon.ico">
		<link rel="stylesheet" href="https://mingrammer.com/css/style.css">
		<link rel="stylesheet" href="https://mingrammer.com/css/highlight.css">

		
		<link rel="stylesheet" href="https://mingrammer.com/css/font-awesome.min.css">
		

		
		<link href="https://mingrammer.com/index.xml" rel="alternate" type="application/rss+xml" title="mingrammer&#39;s note" />
		

		
		<link rel="stylesheet" href="https://mingrammer.com/css/custom.css">
		
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='https://mingrammer.com/'> <span class="arrow">←</span>Home</a>
	
	<a href='https://mingrammer.com/post'>Archive</a>
	<a href='https://mingrammer.com/categories'>Categories</a>
	<a href='https://mingrammer.com/tags'>Tags</a>
	<a href='https://mingrammer.com/about'>About</a>

	

	
	<a class="cta" href="https://mingrammer.com/index.xml">Subscribe</a>
	
</nav>


        <section id="wrapper" class="post">
            <article>
                <header>
                    <h1>
                        파이썬 언더스코어(_)에 대하여
                    </h1>
                    <h2 class="headline">
                    Nov 5, 2016 00:00
                    · 2531 words
                    · 6 minute read
                      <span class="tags">
                      
                      
                          
                              <a href="https://mingrammer.com/tags/deep-dive">deep dive</a>
                          
                              <a href="https://mingrammer.com/tags/underscore">underscore</a>
                          
                      
                      
                      </span>
                    </h2>
                </header>
                
                  
                    <div id="toc">
                      <nav id="TableOfContents"></nav>
                    </div>
                  
                
                <section id="post-body">
                    <p>파이썬에서 언더스코어(underscore, _)는 특별하다.</p>
<p>타 언어에서 언더스코어(_)는 단지 스네이크 표기법의 변수나 함수명을 위해서만 사용되어지는 반면 (물론 그렇지 않은 언어도 있다), 파이썬에서는 이 문자의 의미가 다양하다. 아마 파이썬 프로그래머라면 <code>for _ in range(10)</code>나 <code>__init__(self)</code>등의 문법들이 굉장히 익숙할 것이다. 이번 포스트에서는 이 언더스코어(_)가 언제 어떤 의미로 쓰이는지에 대해 다루어보려고 한다. 크게 기술적인 내용은 아니지만 파이썬 프로그래머로서 알아두면 좋을 것 같아 정리해보려고 한다.</p>
<p>파이썬에서 언더스코어(_)는 다음과 같은 상황에서 사용되는데 크게 5가지의 경우가 있다.</p>
<ul>
<li>인터프리터(Interpreter)에서 마지막 값을 저장할 때</li>
<li>값을 무시하고 싶을 때 (흔히 &ldquo;I don&rsquo;t care&quot;라고 부른다.)</li>
<li>변수나 함수명에 특별한 의미 또는 기능을 부여하고자 할 때</li>
<li>국제화(Internationalization, i18n)/지역화(Localization, l10n) 함수로써 사용할 때</li>
<li>숫자 리터럴값의 자릿수 구분을 위한 구분자로써 사용할 때</li>
</ul>
<p>그럼 이제 각 경우에 대해서 언더스코어(_)가 어떻게 쓰이는지 살펴보자.</p>
<!-- raw HTML omitted -->
<h1 id="1-인터프리터에서-사용되는-경우">1. 인터프리터에서 사용되는 경우</h1>
<p>파이썬 인터프리터에선 마지막으로 실행된 결과값이 _라는 변수에 저장된다. 이는 표준 CPython 인터프리터에서 먼저 사용되었으며 다른 파이썬 인터프리터 구현체에서도 똑같이 사용할 수 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">&gt;&gt;&gt; <span style="color:#ae81ff">10</span>
<span style="color:#ae81ff">10</span>
&gt;&gt;&gt; _
<span style="color:#ae81ff">10</span>
&gt;&gt;&gt; _ * <span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">30</span>
&gt;&gt;&gt; _ * <span style="color:#ae81ff">20</span>
<span style="color:#ae81ff">600</span>
</code></pre></div><!-- raw HTML omitted -->
<h1 id="2-값을-무시하고-싶은-경우">2. 값을 무시하고 싶은 경우</h1>
<p>_는 또한 어떤 특정값을 무시하기 위한 용도로 사용되기도한다. 값이 필요하지 않거나 사용되지 않는 값을 _에 할당하기만 하면된다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 언패킹시 특정값을 무시</span>
x, _, y <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>) <span style="color:#75715e"># x = 1, y = 3</span>

<span style="color:#75715e"># 여러개의 값 무시</span>
x, <span style="color:#f92672">*</span>_, y <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>) <span style="color:#75715e"># x = 1, y = 5</span>

<span style="color:#75715e"># 인덱스 무시</span>
<span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>):
    do_something()

<span style="color:#75715e"># 특정 위치의 값 무시</span>
<span style="color:#66d9ef">for</span> _, val <span style="color:#f92672">in</span> list_of_tuple:
    do_something()
</code></pre></div><!-- raw HTML omitted -->
<h1 id="3-특별한-의미의-네이밍을-하는-경우">3. 특별한 의미의 네이밍을 하는 경우</h1>
<p>파이썬에서 _가 가장 많이 사용되는 곳은 아마 네이밍일 것이다. 파이썬 컨벤션 가이드라인인 PEP8에는 다음과 같은 4가지의 언더스코어를 활용한 네이밍 컨벤션을 소개하고 있다.</p>
<ul>
<li>
<p><code>_single_leading_underscore</code>: 주로 한 모듈 내부에서만 사용하는 private 클래스/함수/변수/메서드를 선언할 때 사용하는 컨벤션이다. 이 컨벤션으로 선언하게 되면 <code>from module import *</code>시 _로 시작하는 것들은 모두 임포트에서 무시된다. 그러나, 파이썬은 진정한 의미의 private을 지원하고 있지는 않기 때문에 private을 완전히 강제할 수는 없다. 즉, 위와 같은 임포트문에서는 무시되지만 직접 가져다 쓰거나 호출을 할 경우엔 사용이 가능하다. 그래서 &ldquo;weak internal use indicator&quot;라고 부르기도 한다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">_internal_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;one_module&#39;</span> <span style="color:#75715e"># private 변수</span>
_internal_version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1.0&#39;</span> <span style="color:#75715e"># private 변수</span>
</code></pre></div><p>class _Base: # private 클래스
_hidden_factor = 2 # private 변수</p>
<pre><code>def __init__(self, price):
    self._price = price

def _double_price(self): # private 메서드
    return self._price * self._hidden_factor

def get_double_price(self):
    return self._double_price()
</code></pre>
<pre><code>
</code></pre></li>
<li>
<p><code>single_trailing_underscore_</code>: 파이썬 키워드와의 충돌을 피하기 위해 사용하는 컨벤션이다. 그리 많이 사용하지는 않을 것이다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">Tkinter<span style="color:#f92672">.</span>Toplevel(master, class_<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ClassName&#39;</span>) <span style="color:#75715e"># class와의 충돌을 피함</span>

list_ <span style="color:#f92672">=</span> List<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>get(<span style="color:#ae81ff">1</span>) <span style="color:#75715e"># list와의 충돌을 피함</span>
</code></pre></div></li>
<li>
<p><code>__double_leading_underscores</code>: 이는 컨벤션이라기보단 하나의 문법적인 요소이다. 더블 언더스코어는 클래스 속성명을 맹글링하여 클래스간 속성명의 충돌을 방지하기 위한 용도로 사용된다. (맹글링이란, 컴파일러나 인터프리터가 변수/함수명을 그대로 사용하지 않고 일정한 규칙에 의해 변형시키는 것을 말한다.) 파이썬의 맹글링 규칙은 더블 언더스코어로 지정된 속성명 앞에 _ClassName을 결합하는 방식이다. 즉, ClassName이라는 클래스에서 __method라는 메서드를 선언했다면 이는 _ClassName__method로 맹글링 된다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">_single_method</span>(self):
        <span style="color:#66d9ef">pass</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__double_method</span>(self): <span style="color:#75715e"># 맹글링을 위한 메서드</span>
        <span style="color:#66d9ef">pass</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(A):
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__double_method</span>(self): <span style="color:#75715e"># 맹글링을 위한 메서드</span>
        <span style="color:#66d9ef">pass</span>

<span style="color:#66d9ef">print</span>(dir(A())) <span style="color:#75715e"># [&#39;_A_double_method&#39;, ..., &#39;_single_method&#39;]</span>
<span style="color:#66d9ef">print</span>(dir(B())) <span style="color:#75715e"># [&#39;_A_double_method&#39;, &#39;_B_double_method&#39;, ..., &#39;_single_method&#39;]</span>

<span style="color:#75715e"># 서로 같은 이름의 메서드를 가지지만 오버라이드가 되지 않는다.</span>
</code></pre></div><p>더블 언더스코어로 지정된 속성명은 위와 같이 맹글링이 되기 때문에 일반적인 속성 접근인 <code>ClassName.__method</code>으로 접근이 불가능하다. 간혹, 이러한 특징으로 더블 언더스코어를 사용해 진짜 private처럼 보이게 하는 경우가 있는데 이는 private을 위한 것이 아니며 private으로의 사용도 권장되지 않는다. 이에 대한 자세한 내용은 <a href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#naming">Python Naming</a>을 참고하면 좋을 것 같다.</p>
</li>
<li>
<p><code>__double_leading_and_trailing_underscores__</code>: 스페셜 변수나 메서드(매직 메서드라고도 부른다.)에 사용되는 컨벤션이며, <code>__init__</code>, <code>__len__</code>과 같은 메서드들이 있다. 이런 형태의 메서드들은 어떤 특정한 문법적 기능을 제공하거나 특정한 일을 수행한다. 가령, <code>__file__</code>은 현재 파이썬 파일의 위치를 나타내는 스페셜 변수이며, <code>__eq__</code>은  <code>a == b</code>라는 식이 수행될 때 실행되는 스페셜 메서드이다. 물론 사용자가 직접 만들 수도 있지만 그런 경우는 정말 거의 없으며, 일부 스페셜 메서드의 경우 직접 수정하거나 하는 일은 빈번히 있을 수 있다. <code>__init__</code>의 경우 클래스의 인스턴스가 생성될 때 처음으로 실행되는 메서드인데 인스턴스의 초기화 작업을 이 메서드의 내용으로 작성할 수 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
    <span style="color:#66d9ef">def</span> __init__(self, a): <span style="color:#75715e"># 스페셜 메서드 __init__에서 초기화 작업을 한다.</span>
        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__custom__</span>(self): <span style="color:#75715e"># 커스텀 스페셜 메서드. 이런건 거의 쓸 일이 없다.</span>
        <span style="color:#66d9ef">pass</span>
</code></pre></div></li>
</ul>
<!-- raw HTML omitted -->
<h1 id="4-국제화i18n지역화l10n-함수로-사용되는-경우">4. 국제화(i18n)/지역화(l10n) 함수로 사용되는 경우</h1>
<p>이는 어떤 특정한 문법적 규칙이라기보단 말 그대로 컨벤션이다. 즉, _가 국제화/지역화 함수라는 의미는 아니며, i18n/l10n 함수를 _로 바인딩하는 C 컨벤션에서 유래된 컨벤션이다. i18n/l10n 라이브러리인 <code>gettext</code>라는 파이썬 내장 라이브러리 API 문서에서도 이 컨벤션을 사용하고 있으며, i18n과 l10n을 지원하는 파이썬 웹 프레임워크인 Django의 공식 문서에서도 이 컨벤션을 소개하면서 사용하고 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># gettext 공식 문서 참고 : https://docs.python.org/3/library/gettext.html</span>
<span style="color:#f92672">import</span> gettext

gettext<span style="color:#f92672">.</span>bindtextdomain(<span style="color:#e6db74">&#39;myapplication&#39;</span>, <span style="color:#e6db74">&#39;/path/to/my/language/directory&#39;</span>)
gettext<span style="color:#f92672">.</span>textdomain(<span style="color:#e6db74">&#39;myapplication&#39;</span>)
_ <span style="color:#f92672">=</span> gettext<span style="color:#f92672">.</span>gettext

<span style="color:#75715e"># ...</span>

<span style="color:#66d9ef">print</span>(_(<span style="color:#e6db74">&#39;This is a translatable string.&#39;</span>))
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> django.utils.translation <span style="color:#f92672">import</span> ugettext <span style="color:#66d9ef">as</span> _
 <span style="color:#f92672">from</span> django.http <span style="color:#f92672">import</span> HttpResponse

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">translate_view</span>(request):
  translated <span style="color:#f92672">=</span> _(<span style="color:#e6db74">&#39;This string will be translated.&#39;</span>)
  <span style="color:#66d9ef">return</span> HttpResponse(translated)
</code></pre></div><!-- raw HTML omitted -->
<h1 id="5-숫자-리터럴값의-자릿수-구분을-위한-구분자로써-사용할-때">5. 숫자 리터럴값의 자릿수 구분을 위한 구분자로써 사용할 때</h1>
<p>Python 3.6에 추가된 문법으로 언더스코어로 숫자값을 좀 더 읽기 쉽도록 자릿수를 구분할 수 있게 되었다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dec_base <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>_000_000
bin_base <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>b_1111_0000
hex_base <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>x_1234_abcd

<span style="color:#66d9ef">print</span>(dec_base) <span style="color:#75715e"># 1000000</span>
<span style="color:#66d9ef">print</span>(bin_base) <span style="color:#75715e"># 240</span>
<span style="color:#66d9ef">print</span>(hex_base) <span style="color:#75715e"># 305441741</span>
</code></pre></div><!-- raw HTML omitted -->
<p>이상으로 파이썬 언더스코어(_)에 대해 다뤄보았다. 나도 파이썬으로 개발을 해오며 위와 같은 상황을 많이 만나봤었는데 이 포스트를 다 작성하고보니 몇몇은 내가 잘못 알고 있었던것도 있어서 또 하나 배울 수 있었다. 특히 4번의 i18n/l10n은 포스트를 작성하기 전까지는 몰랐었는데 이번 포스팅을 위한 자료를 찾으면서 알게되었다. 그래도 나름 얻은게 꽤 있는 것 같다. 나 뿐만 아니라 여러분도 이 포스트에서 얻어가는게 있었으면 좋겠다.</p>
<p>다음에는 파이썬의 더욱 흥미로운 내용들을 다뤄보겠다.</p>
<!-- raw HTML omitted -->
<h1 id="update">Update</h1>
<p>Python 3.6의 <em><strong>PEP 515 &ndash; Underscores in Numeric Literals</strong></em> 추가</p>

                </section>
            </article>

            
                <a class="twitter" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fmingrammer.com%2funderscore-in-python%2f - %ed%8c%8c%ec%9d%b4%ec%8d%ac%20%ec%96%b8%eb%8d%94%ec%8a%a4%ec%bd%94%ec%96%b4%28_%29%ec%97%90%20%eb%8c%80%ed%95%98%ec%97%ac by @mingrammer"><span class="icon-twitter"> tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>

            

            

            
                <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'mingrammer-blog'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

            

            
                <ul id="post-list" class="archive readmore">
    <h3>Read more</h3>

    
    
    
        <li>
            <a href="/go-modules-private-repo">Go 프라이빗 모듈 가져오기<aside class="dates">Apr 18 2020</aside></a>
        </li>
    
        <li>
            <a href="/debugging-containerized-go-app">컨테이너 내부 Go 애플리케이션 디버깅하기<aside class="dates">Feb 13 2020</aside></a>
        </li>
    
        <li>
            <a href="/debug-memory-leak-with-node-heapdump">푸시 데몬 메모리 누수 디버깅하기<aside class="dates">Nov 6 2019</aside></a>
        </li>
    
        <li>
            <a href="/scheduling-cron-job-in-seconds-interval">Cron에서 초단위로 스케줄링하기<aside class="dates">Aug 3 2019</aside></a>
        </li>
    
        <li>
            <a href="/dynamodb-batch-retry-with-exponential-backoff">DynamoDB 배치 작업 재시도 구현 (Exponential Backoff)<aside class="dates">Jun 2 2019</aside></a>
        </li>
    
        <li>
            <a href="/redis-migration">IDC에서 AWS로 Redis 데이터 이전하기<aside class="dates">Feb 1 2019</aside></a>
        </li>
    
        <li>
            <a href="/building-blockchain-in-go-part-7">[Go로 구현하는 블록체인] Part 7: 네트워크<aside class="dates">Jun 18 2018</aside></a>
        </li>
    
        <li>
            <a href="/building-blockchain-in-go-part-6">[Go로 구현하는 블록체인] Part 6: 트랜잭션 2<aside class="dates">Jun 14 2018</aside></a>
        </li>
    
        <li>
            <a href="/building-blockchain-in-go-part-5">[Go로 구현하는 블록체인] Part 5: 주소<aside class="dates">Jun 6 2018</aside></a>
        </li>
    
        <li>
            <a href="/building-blockchain-in-go-part-4">[Go로 구현하는 블록체인] Part 4: 트랜잭션 1<aside class="dates">May 26 2018</aside></a>
        </li>
    
</ul>

            

            <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.facebook.com/mingrammer">
        <i class="fa fa-facebook-square"></i>
    </a>
    
    <a class="symbol" href="https://www.github.com/mingrammer">
        <i class="fa fa-github-square"></i>
    </a>
    
    <a class="symbol" href="https://www.twitter.com/mingrammer">
        <i class="fa fa-twitter-square"></i>
    </a>
    
    
    <a class="symbol" href="https://mingrammer.com/index.xml">
        <i class="fa fa-rss-square"></i>
    </a>
    


</div>

    
    <p class="small">
    
       © Copyright 2020 <i class="fa fa-heart" aria-hidden="true"></i> mingrammer
    
    </p>
    <p class="small">
        Powered by <a href="http://www.gohugo.io/">Hugo</a> Theme By <a href="https://github.com/nodejh/hugo-theme-cactus-plus">nodejh</a>
    </p>
</footer>

        </section>

        <script src="https://mingrammer.com/js/jquery-2.2.4.min.js"></script>
<script src="https://mingrammer.com/js/main.js"></script>
<script src="https://mingrammer.com/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-84081627-1', 'auto');
	
	ga('send', 'pageview');
}
</script>





    </body>
</html>
